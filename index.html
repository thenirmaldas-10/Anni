<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hello Deveee üíñ</title>
<style>
  /* page base */
  :root { --pink:#ff66b2; --pink-dark:#ff3385; --lavender-start:#ffe6f0; --lavender-end:#e6ccff; }
  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(180deg, #ffeef7 0%, #f1def9 40%, #efe0ff 100%);
    color: #3a1a3a;
    overflow-x: hidden;
  }

  /* TOP PHOTO (big header) */
  #start {
    width: 100%;
    height: 68vh;
    background: url('her_photo.jpg') no-repeat center center / cover;
    position: relative;
    border-bottom-left-radius: 24px;
    border-bottom-right-radius: 24px;
    box-shadow: 0 18px 40px rgba(99,40,90,0.12);
  }
  /* subtle overlay to keep photo clear but not washed out */
  #start::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(255,255,255,0.0), rgba(255,230,240,0.18));
    pointer-events: none;
  }

  /* INTRO (moved below) */
  .intro-text {
    max-width: 880px;
    margin: -60px auto 30px; /* negative margin to tuck in closer to photo */
    background: linear-gradient(135deg, var(--lavender-start), var(--lavender-end));
    border-radius: 18px;
    padding: 34px 28px;
    text-align: center;
    box-shadow: 0 12px 28px rgba(70,24,64,0.08);
  }
  .intro-text h1 { margin: 0 0 10px; font-size: 34px; color: #d63384; letter-spacing: 0.3px; }
  .intro-text p { margin: 0 0 18px; color: #6b3a59; font-size: 16px; }

  .btn-row { display:flex; gap:18px; justify-content:center; flex-wrap:wrap; }
  button {
    background: var(--pink);
    color: #fff;
    border: none;
    padding: 12px 26px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 8px 18px rgba(255,102,178,0.12);
    transition: transform .16s ease, box-shadow .16s ease;
  }
  button:active { transform: translateY(2px); }
  button:disabled { opacity: .6; cursor: not-allowed; }
  button:hover:not(:disabled) { background: var(--pink-dark); }

  /* QUIZ */
  #quiz {
    max-width: 760px;
    margin: 36px auto;
    padding: 26px;
    background: rgba(255,255,255,0.92);
    border-radius: 14px;
    box-shadow: 0 10px 26px rgba(70,24,64,0.06);
    display: none;
  }
  #question { font-size: 20px; color: #7a2e74; margin-bottom: 12px; }
  #options div { margin: 8px 0; text-align: left; color: #45243f; }
  input[type="text"], input[type="date"], select {
    padding: 10px 12px; border-radius: 10px; border: 2px solid #ffd6ea; width: 100%;
    max-width: 380px; display:block; margin: 10px auto;
  }
  #feedback { color: #c24a7b; font-weight:600; margin-top:10px; }

  /* GIFTS */
  #gifts { display: none; max-width: 760px; margin: 30px auto; text-align:center; }
  .gift-boxes { display:flex; gap:18px; justify-content:center; margin-top:18px; }
  .gift {
    width: 110px; height: 110px; background: linear-gradient(180deg,#ffdff0,#ffd0f0);
    border-radius: 14px; display:flex; align-items:center; justify-content:center; font-size:34px;
    border: 3px solid rgba(255,102,178,0.9); cursor:pointer; position:relative;
    transition: transform .22s ease, box-shadow .22s ease;
  }
  .gift:hover { transform: translateY(-12px) rotate(-4deg); box-shadow:0 20px 40px rgba(189,64,123,0.12); }
  .gift-number { position:absolute; top:8px; left:8px; background:#ff2f7a; color:white; width:30px; height:30px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; }

  /* FINAL */
  #final { display:none; max-width:900px; margin:30px auto; padding:28px; background:rgba(255,255,255,0.96); border-radius:14px; text-align:center; }
  .photo-show { width:180px; height:180px; object-fit:cover; border-radius:14px; margin:8px; opacity:0; transform:scale(.7); transition:all .7s ease; display:inline-block; }

  /* small screens */
  @media (max-width:700px) {
    .intro-text { margin: -40px 16px 20px; padding: 22px; }
    h1 { font-size:26px; }
    #start { height:52vh; }
    .gift { width:86px; height:86px; font-size:26px; }
    .photo-show { width:140px; height:140px; }
  }
</style>
</head>
<body>

<!-- AUDIO (user gesture required to play in many browsers) -->
<audio id="bg-music" loop>
  <source src="A_Thousand_Years.mp3" type="audio/mpeg">
  <!-- fallback text -->
  Your browser does not support audio playback.
</audio>

<!-- TOP PHOTO (no text overlay) -->
<div id="start" aria-hidden="true"></div>

<!-- INTRO (moved completely below the photo) -->
<div class="intro-text" id="introText">
  <h1>Hello Deveee.. üíï</h1>
  <p>Press the music button first üéµ, then start the questionnaire üíå</p>
  <div class="btn-row">
    <button id="playBtn" onclick="playMusic()">Play Music üéµ</button>
    <button id="startQuizBtn" onclick="startQuiz()" disabled>Start Questionnaire üíå</button>
  </div>
</div>

<!-- QUIZ -->
<div id="quiz" aria-live="polite">
  <h2 id="question"></h2>
  <div id="options"></div>
  <input id="answerBox" class="hidden" type="text" placeholder="Type your answer here..." />
  <div style="margin-top:14px;">
    <button id="submitBtn" onclick="checkAnswer()">Submit</button>
  </div>
  <p id="feedback"></p>
</div>

<!-- GIFTS -->
<div id="gifts">
  <h2>Are you ready for your surprise? üéÅ Click the boxes in order: 1 ‚Üí 2 ‚Üí 3</h2>
  <div class="gift-boxes">
    <div class="gift" onclick="openGift(1)"><div class="gift-number">1</div>üéÅ</div>
    <div class="gift" onclick="openGift(2)"><div class="gift-number">2</div>üéÅ</div>
    <div class="gift" onclick="openGift(3)"><div class="gift-number">3</div>üéÅ</div>
  </div>
  <p id="giftMessage" style="margin-top:18px; color:#6b2a63; font-weight:600;"></p>
</div>

<!-- FINAL -->
<div id="final">
  <h1>üíû Happy Anniversary My Love üíû</h1>
  <div id="photoContainer" style="margin-top:14px;"></div>
  <h2 style="margin-top:18px; color:#b81e74;">You are my forever, my reason to smile, my happiest dream come true. üíñ</h2>
</div>

<script>
/* -------------------------
   Data / state
   ------------------------- */
let step = 0;
const questions = [
  { q: "When did you meet your boyfriend for the first time?", type: "date", correct: "2024-09-25" },
  { q: "Your boyfriend's date of birth?", type: "mcq", options: ["20/07/2000","21/07/2000","20/06/2001","20/06/2001"], correct: "20/07/2000" },
  { q: "Have you kissed your boyfriend? If yes, from where was your first kiss?", type: "text" },
  { q: "Your best memory with your boyfriend?", type: "text" },
  { q: "What do you love most about him?", type: "text" },
  { q: "What name do you love to call him?", type: "text" }
];

const audio = document.getElementById('bg-music');
const playBtn = document.getElementById('playBtn');
const startQuizBtn = document.getElementById('startQuizBtn');

/* -------------------------
   Actions
   ------------------------- */
function playMusic(){
  // user gesture, tries to play
  audio.play().then(() => {
    startQuizBtn.disabled = false;
    playBtn.innerText = "Playing üéµ";
    playBtn.disabled = true;
  }).catch((err) => {
    // some browsers require direct user interaction; we'll try to resume on click
    alert("Music couldn't autoplay ‚Äî please check your browser or click Play again.");
    console.error(err);
  });
}

function startQuiz(){
  // hide intro and photo, show quiz
  document.getElementById('introText').classList.add('hidden');
  document.getElementById('start').classList.add('hidden');
  document.getElementById('quiz').style.display = 'block';
  loadQuestion();
}

/* Question loading and checking */
function loadQuestion(){
  const q = questions[step];
  document.getElementById('feedback').textContent = '';
  document.getElementById('question').textContent = q.q;
  const optionsDiv = document.getElementById('options');
  const ansBox = document.getElementById('answerBox');
  optionsDiv.innerHTML = '';
  ansBox.classList.add('hidden');
  ansBox.value = '';

  if(q.type === 'date'){
    optionsDiv.innerHTML = `<input id="dateAnswer" type="date">`;
  } else if(q.type === 'mcq'){
    // shuffle copy to avoid modifying original
    const opts = [...q.options].sort(() => Math.random() - 0.5);
    opts.forEach(opt => {
      const id = 'opt-' + Math.random().toString(36).slice(2,8);
      optionsDiv.innerHTML += `<div><label><input type="radio" name="mcq" value="${opt}" id="${id}"> ${opt}</label></div>`;
    });
  } else {
    ansBox.classList.remove('hidden');
    ansBox.placeholder = 'Type your answer here...';
    // append to DOM so visible
    optionsDiv.appendChild(ansBox);
  }
}

function checkAnswer(){
  const q = questions[step];
  let userAns = '';
  if(q.type === 'date'){
    const el = document.getElementById('dateAnswer');
    if(el) userAns = el.value;
  } else if(q.type === 'mcq'){
    const checked = document.querySelector('input[name="mcq"]:checked');
    if(checked) userAns = checked.value;
  } else {
    userAns = document.getElementById('answerBox').value.trim();
  }

  // if correct answer is defined, enforce check
  if(q.correct && userAns !== q.correct){
    document.getElementById('feedback').textContent = "Oops üòÖ Try again, my love!";
    return;
  }

  // proceed
  step++;
  if(step < questions.length) {
    loadQuestion();
  } else {
    // finished quiz
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('gifts').style.display = 'block';
  }
}

/* Gifts logic */
function openGift(n){
  const gifts = document.querySelectorAll('.gift');
  const g = gifts[n-1];
  if(!g) return;
  g.style.opacity = '0';
  setTimeout(()=> g.style.display='none', 300);
  const msg = document.getElementById('giftMessage');

  if(n === 1) msg.innerText = "üòÇ Your boyfriend's bank balance is less than ‚Çπ100, no gift here!";
  else if(n === 2) msg.innerText = "üíû Your boyfriend's best gift for you is his love, and be happy with that!";
  else {
    // after 3rd, go to final
    document.getElementById('gifts').style.display = 'none';
    showFinal();
  }
}

/* Final photo reveal */
function showFinal(){
  const final = document.getElementById('final');
  const container = document.getElementById('photoContainer');
  container.innerHTML = '';
  final.style.display = 'block';

  const photos = ['photo1.jpg','photo2.jpg','photo3.jpg','photo4.jpg'];
  photos.forEach((src,i)=>{
    setTimeout(()=>{
      const img = document.createElement('img');
      img.src = src;
      img.className = 'photo-show';
      container.appendChild(img);
      // trigger animation
      setTimeout(()=> { img.style.opacity = '1'; img.style.transform = 'scale(1)'; }, 40);
    }, i * 800);
  });

  // show final big photo after small ones
  setTimeout(()=>{
    container.innerHTML = `<img src="finalphoto.jpg" style="width:300px;height:300px;border-radius:12px;object-fit:cover;"><h2 style="margin-top:12px;color:#b81e74;">üíñ Happy Anniversary, my Deveee üíñ</h2>`;
  }, photos.length * 900 + 600);
}

/* Make sure audio can play on later gestures in browsers that block programmatic play:
   If user clicks anywhere on page and audio is paused but playBtn was pressed earlier, try to resume.
*/
document.addEventListener('click', () => {
  if(!audio.paused && audio.currentTime > 0) return; // already playing
  // no automatic resume to avoid forcing sound; the play button handles it.
});

</script>
</body>
</html>
