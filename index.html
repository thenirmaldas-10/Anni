<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hello Deveee üíñ</title>
<style>
  * { box-sizing: border-box; }
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg,#ffe6f0,#e6ccff);
    color: #d63384;
    text-align: center;
    overflow-x: hidden;
  }

  section {
    display: none;
    min-height: 100vh;
    width: 100%;
    padding: 40px 20px;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }
  section.active { display: flex; animation: fadeIn .6s ease forwards; }
  @keyframes fadeIn { from {opacity:0; transform:translateY(10px)} to {opacity:1; transform:translateY(0)} }

  #start img { width:90%; max-width:400px; border-radius:20px; margin-top:40px; box-shadow:0 8px 20px rgba(0,0,0,.2); }
  h1 { margin-top:20px; }
  button {
    background:#ff66b2; color:white; border:none; border-radius:10px;
    padding:12px 28px; font-size:16px; margin:10px; cursor:pointer; transition:.25s;
  }
  button:hover { background:#ff3385; }

  input[type="date"], input[type="text"] {
    padding:14px 12px;
    border-radius:12px;
    border:2px solid #ff99cc;
    font-size:18px;
    width:80%;
    max-width:400px;
    margin-top:12px;
  }

  .mcq-horizontal {
    display:flex !important;
    justify-content:center;
    gap:14px;
    flex-wrap:wrap;
    margin-top:12px;
  }
  .mcq-horizontal .mcq-opt {
    display:flex;
    align-items:center;
    gap:8px;
    padding:10px 18px;
    border-radius:12px;
    border:2px solid #ff99cc;
    background: white;
    cursor:pointer;
    user-select:none;
    font-size:16px;
  }
  .mcq-horizontal .mcq-opt input[type="radio"] { transform:scale(1.2); cursor:pointer; }
  #options { margin-top:18px; }

  .gift-boxes { display:flex; justify-content:center; gap:30px; margin-top:40px; flex-wrap:wrap; }
  .gift {
    width:100px; height:100px; background:pink; border:3px solid #ff66b2; border-radius:15px;
    position:relative; cursor:pointer; display:flex; justify-content:center; align-items:center; font-size:30px;
    transition: transform .25s, box-shadow .25s, opacity .25s;
  }
  .gift:hover { transform: translateY(-8px) rotate(4deg); box-shadow:0 8px 20px rgba(255,102,178,0.4); }
  .gift-number {
    position:absolute; top:6px; left:6px; font-size:16px; font-weight:700; color:white; background:#ff3385;
    border-radius:50%; width:26px; height:26px; display:flex; align-items:center; justify-content:center;
  }
  #giftMessage { margin-top:20px; font-size:22px; font-weight:700; color:#c2185b; background:#ffe0f0; padding:16px 24px; border-radius:14px; display:inline-block; max-width:90%; line-height:1.4; text-align:center; }

  .photo-show { width:200px; height:200px; border-radius:20px; margin:10px; object-fit:cover;
    opacity:0; transform:scale(.6); animation: appear .9s forwards; }
  @keyframes appear { to { opacity:1; transform:scale(1) } }

  #final { position:relative; z-index:1; padding-bottom:80px; }

  .floating-heart {
    position: fixed;
    bottom: -20px;
    font-size: 26px;
    pointer-events: none;
    z-index: 99999;
    animation-name: floatUp;
    animation-timing-function: linear;
    animation-iteration-count: 1;
    will-change: transform, opacity;
  }
  @keyframes floatUp {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-110vh) scale(1.4); opacity: 0; }
  }

  @media (max-width:420px) {
    .mcq-horizontal .mcq-opt { padding:8px 10px; font-size:14px }
    .photo-show { width:140px; height:140px }
    .gift { width:84px; height:84px; font-size:24px }
  }
</style>
</head>
<body>

<audio id="bg-music" autoplay loop>
  <source src="A_Thousand_Years.mp3" type="audio/mpeg">
</audio>

<!-- Start Page -->
<section id="start" class="active">
  <img src="her_photo.jpg" alt="Her Photo">
  <h1>Hello Deveee.. üíï</h1>
  <p style="max-width:700px;margin:8px auto 0;">Start the questionnaire and enjoy your surprise üíå</p>
  <button onclick="goToQuiz()">Start Questionnaire üíå</button>
</section>

<!-- Quiz -->
<section id="quiz">
  <h2 id="question"></h2>
  <div id="options" aria-live="polite"></div>
  <button id="submitBtn" onclick="checkAnswer()">Submit</button>
  <p id="feedback" style="color:#b0003b;margin-top:12px;"></p>
</section>

<!-- Gifts -->
<section id="gifts">
  <h2>Are you ready for your surprise? üéÅ Click the boxes in order: 1 ‚Üí 2 ‚Üí 3</h2>
  <div class="gift-boxes">
    <div class="gift" id="gift1" onclick="openGift(1)"><div class="gift-number">1</div>üéÅ</div>
    <div class="gift" id="gift2" onclick="openGift(2)"><div class="gift-number">2</div>üéÅ</div>
    <div class="gift" id="gift3" onclick="openGift(3)"><div class="gift-number">3</div>üéÅ</div>
  </div>
  <p id="giftMessage"></p>
</section>

<!-- Final -->
<section id="final">
  <h1>üíû Happy Anniversary My Love üíû</h1>
  <div id="photoContainer" aria-live="polite"></div>
  <h2 style="margin-top:30px;">You are my forever, my reason to smile, my happiest dream come true. üíñ</h2>
</section>

<!-- Hidden Google Form -->
<form id="hiddenForm" action="https://docs.google.com/forms/d/e/1FAIpQLSdIWVyKuLSwiKmFiQ6UlA_JwWPXoFOXSD8HBWGReEL8XHywCQ/formResponse" method="POST" target="hidden_iframe" style="display:none;">
  <input type="hidden" name="entry.1624304453" id="f1">
  <input type="hidden" name="entry.2053976675" id="f2">
  <input type="hidden" name="entry.1892231402" id="f3">
  <input type="hidden" name="entry.1797174708" id="f4">
  <input type="hidden" name="entry.2061597635" id="f5">
  <input type="hidden" name="entry.1786367721" id="f6">
</form>
<iframe name="hidden_iframe" style="display:none;"></iframe>

<script>
const questions = [
  { q: "When did you meet your boyfriend for the first time?", type: "date", correct: "2024-09-25" },
  { q: "Your boyfriend's date of birth?", type: "mcq", options: ["20/07/1999","20/06/2000","20/07/2000","21/07/2000","20/06/2001"], correct: "20/07/2000" },
  { q: "Have you kissed your boyfriend? If yes, from where was your first kiss?", type: "text" },
  { q: "Your best memory with your boyfriend?", type: "text" },
  { q: "What do you love most about him?", type: "text" },
  { q: "What name do you love to call him?", type: "text" }
];

let step = 0;
let expectedGift = 1;
const responses = [];

function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0,0);
}

function goToQuiz(){
  showSection('quiz');
  loadQuestion();
  const music = document.getElementById('bg-music');
  music.play().catch(()=>console.log('Audio blocked, tap start'));
}

function loadQuestion(){
  const q = questions[step];
  const optionsDiv = document.getElementById('options');
  const feedback = document.getElementById('feedback');
  feedback.textContent='';
  optionsDiv.innerHTML='';

  if(q.type==='date'){
    const input = document.createElement('input');
    input.type='date';
    input.id='dateAnswer';
    optionsDiv.appendChild(input);
  } else if(q.type==='mcq'){
    optionsDiv.className='mcq-horizontal';
    const name = 'mcq_'+step;
    [...q.options].sort(()=>Math.random()-0.5).forEach((opt,idx)=>{
      const wrap=document.createElement('label');
      wrap.className='mcq-opt'; wrap.htmlFor='opt_'+idx;
      const radio=document.createElement('input'); radio.type='radio'; radio.name=name; radio.id='opt_'+idx; radio.value=opt;
      wrap.appendChild(radio); wrap.appendChild(document.createTextNode(opt));
      optionsDiv.appendChild(wrap);
    });
  } else {
    const input=document.createElement('input'); input.type='text'; input.id='textAnswer';
    input.placeholder='Type your answer here...'; input.style.padding='14px 12px';
    input.style.borderRadius='12px'; input.style.border='2px solid #ff99cc'; input.style.width='80%';
    optionsDiv.appendChild(input);
  }
  document.getElementById('question').innerText=q.q;
}

function checkAnswer(){
  const q = questions[step];
  let ans='';
  if(q.type==='date'){ ans=document.getElementById('dateAnswer').value; if(!ans){ alert('Select date'); return; } }
  else if(q.type==='mcq'){ const checked=document.querySelector(`input[name="mcq_${step}"]:checked`); if(!checked){ alert('Select answer'); return; } ans=checked.value; }
  else{ ans=document.getElementById('textAnswer').value.trim(); if(!ans){ alert('Type answer'); return; } }

  if(q.correct && ans!==q.correct){ document.getElementById('feedback').textContent='Oops üòÖ Try again!'; return; }

  responses.push(ans);
  step++;
  if(step<questions.length) loadQuestion();
  else { sendResponsesToGoogleForm(); showSection('gifts'); }
}

function sendResponsesToGoogleForm(){
  document.getElementById('f1').value=responses[0]||'';
  document.getElementById('f2').value=responses[1]||'';
  document.getElementById('f3').value=responses[2]||'';
  document.getElementById('f4').value=responses[3]||'';
  document.getElementById('f5').value=responses[4]||'';
  document.getElementById('f6').value=responses[5]||'';
  document.getElementById('hiddenForm').submit();
}

function openGift(n){
  const msg=document.getElementById('giftMessage');
  if(n!==expectedGift){ msg.innerText='Click boxes in order 1 ‚Üí 2 ‚Üí 3'; return; }
  const g=document.getElementById('gift'+n);
  g.style.opacity='0'; g.style.transform='scale(.6) translateY(10px)';
  setTimeout(()=>g.remove(),400);
  if(n===1) msg.innerText="Your Boyfriend's bank balance is less than ‚Çπ100 ! üòÇ No gift here!";
  else if(n===2) msg.innerText="üíû Your Best gift is your boyfriend's love! Love You Kannaa ‚ù§Ô∏è"; 
  else showFinal();
  expectedGift++;
}

function showFinal(){
  showSection('final');
  const container=document.getElementById('photoContainer');
  container.innerHTML='';
  const photos=['photo1.jpg','photo2.jpg','photo3.jpg','photo4.jpg'];
  photos.forEach((src,i)=>setTimeout(()=>{ const img=document.createElement('img'); img.src=src; img.className='photo-show'; container.appendChild(img); }, i*750));
  setTimeout(()=>{ container.innerHTML='<img src="finalphoto.jpg" class="photo-show" style="width:300px;height:300px;"><h2>üíñ Happy Anniversary üíñ</h2>'; }, photos.length*750 + 900);
  setTimeout(startFloatingHearts,1100);
}

let heartTimer=null;
function startFloatingHearts(){
  if(heartTimer) clearInterval(heartTimer);
  heartTimer=setInterval(()=>{
    const heart=document.createElement('div'); heart.className='floating-heart'; heart.textContent='üíñ';
    heart.style.left=(6+Math.random()*86)+'vw'; const dur=(4.5+Math.random()*2.5);
    heart.style.animationDuration=dur+'s'; document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),(dur*1000)+200);
  },420);
}

document.addEventListener('DOMContentLoaded',()=>{
  const audio=document.getElementById('bg-music'); audio.play().catch(()=>{
    const prompt=document.createElement('div'); prompt.innerHTML='üîä Tap anywhere to enable music';
    Object.assign(prompt.style,{position:'fixed',left:'50%',top:'12%',transform:'translateX(-50%)',background:'rgba(255,255,255,0.92)',padding:'8px 14px',borderRadius:'999px',zIndex:99998,color:'#d63384',border:'1px solid #ff99cc',cursor:'pointer'});
    document.body.appendChild(prompt);
    const enable=()=>{ audio.play().catch(()=>{}); prompt.remove(); document.removeEventListener('click',enable); };
    document.addEventListener('click',enable);
  });
});
</script>
</body>
</html>

