<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hello Deveee 💖</title>
<style>
body { font-family:'Poppins',sans-serif; margin:0; padding:0; background:linear-gradient(135deg,#ffe6f0,#e6ccff); color:#d63384; text-align:center; overflow-x:hidden; }
section { display:none; min-height:100vh; width:100%; padding:40px 20px; justify-content:center; align-items:center; flex-direction:column; }
section.active { display:flex; animation: fadeIn .6s ease forwards; }
@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
button { background:#ff66b2; color:white; border:none; border-radius:10px; padding:12px 28px; font-size:16px; margin:10px; cursor:pointer; transition:.25s; }
button:hover { background:#ff3385; }
input[type="date"], input[type="text"] { padding:10px; border-radius:8px; border:2px solid #ff99cc; font-size:16px; width:80%; }
.mcq-horizontal { display:flex; justify-content:center; gap:14px; flex-wrap:wrap; margin-top:12px; }
.mcq-horizontal .mcq-opt { display:flex; align-items:center; gap:8px; padding:8px 14px; border-radius:10px; border:2px solid #ff99cc; background:white; cursor:pointer; user-select:none; }
.mcq-horizontal .mcq-opt input[type="radio"] { transform:scale(1.15); cursor:pointer; }
#options { margin-top:18px; }
.gift-boxes { display:flex; justify-content:center; gap:30px; margin-top:40px; flex-wrap:wrap; }
.gift { width:100px; height:100px; background:pink; border:3px solid #ff66b2; border-radius:15px; position:relative; cursor:pointer; display:flex; justify-content:center; align-items:center; font-size:30px; transition: transform .25s, box-shadow .25s, opacity .25s; }
.gift:hover { transform: translateY(-8px) rotate(4deg); box-shadow:0 8px 20px rgba(255,102,178,0.4); }
.gift-number { position:absolute; top:6px; left:6px; font-size:16px; font-weight:700; color:white; background:#ff3385; border-radius:50%; width:26px; height:26px; display:flex; align-items:center; justify-content:center; }
#giftMessage { margin-top: 20px; font-size:22px; font-weight:600; color:#c2185b; background:#ffe0f0; padding:16px 24px; border-radius:12px; display:inline-block; max-width:90%; line-height:1.4; text-align:center; }
</style>
</head>
<body>

<audio id="bg-music" loop>
  <source src="A_Thousand_Years.mp3" type="audio/mpeg">
</audio>

<section id="start" class="active">
  <img src="her_photo.jpg" alt="Her Photo" style="width:90%;max-width:400px;border-radius:20px;margin-top:40px;box-shadow:0 8px 20px rgba(0,0,0,.2);">
  <h1>Hello Deveee.. 💕</h1>
  <p style="max-width:700px;margin:8px auto 0;">Start the questionnaire and enjoy your surprise 💌</p>
  <button onclick="goToQuiz()">Start Questionnaire 💌</button>
</section>

<section id="quiz">
  <h2 id="question"></h2>
  <div id="options" aria-live="polite"></div>
  <p id="feedback" style="color:#b0003b;margin-top:12px;"></p>
  <button onclick="checkAnswer()">Submit</button>
</section>

<section id="gifts">
  <h2>Surprise Gifts 🎁 Click in order 1 → 2 → 3</h2>
  <div class="gift-boxes">
    <div class="gift" id="gift1" onclick="openGift(1)"><div class="gift-number">1</div>🎁</div>
    <div class="gift" id="gift2" onclick="openGift(2)"><div class="gift-number">2</div>🎁</div>
    <div class="gift" id="gift3" onclick="openGift(3)"><div class="gift-number">3</div>🎁</div>
  </div>
  <p id="giftMessage"></p>
</section>

<section id="final">
  <h1>💞 Happy Anniversary 💞</h1>
  <div id="photoContainer"></div>
</section>

<!-- Hidden Google Form -->
<form id="hiddenForm" action="https://docs.google.com/forms/d/e/1FAIpQLSdIWVyKuLSwiKmFiQ6UlA_JwWPXoFOXSD8HBWGReEL8XHywCQ/formResponse" method="POST" target="hidden_iframe" style="display:none;">
  <input type="hidden" name="entry.1624304453" id="f1">
  <input type="hidden" name="entry.2053976675" id="f2">
  <input type="hidden" name="entry.1892231402" id="f3">
  <input type="hidden" name="entry.1797174708" id="f4">
  <input type="hidden" name="entry.2061597635" id="f5">
  <input type="hidden" name="entry.1786367721" id="f6">
</form>
<iframe name="hidden_iframe" style="display:none;"></iframe>

<script>
const responses=[];
let step=0;
let expectedGift=1;

const questions=[
  { q:"When did you meet your boyfriend for the first time?", type:"date", correct:"2024-09-25" },
  { q:"Your boyfriend's date of birth?", type:"mcq", options:["20/07/2000","21/07/2000","20/06/2001","20/07/1999","20/06/2000"], correct:"20/07/2000" },
  { q:"Have you kissed your boyfriend? If yes, from where was your first kiss?", type:"text" },
  { q:"Your best memory with your boyfriend?", type:"text" },
  { q:"What do you love most about him?", type:"text" },
  { q:"What name do you love to call him?", type:"text" }
];

function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0,0);
}

function goToQuiz(){
  showSection('quiz');
  loadQuestion();
  const music=document.getElementById('bg-music');
  music.play().catch(()=>console.log('Audio blocked, user interaction required'));
}

function loadQuestion(){
  const q=questions[step];
  const optionsDiv=document.getElementById('options');
  const feedback=document.getElementById('feedback');
  optionsDiv.innerHTML=''; feedback.textContent='';
  
  if(q.type==='date'){
    const input=document.createElement('input');
    input.type='date'; input.id='dateAnswer';
    optionsDiv.appendChild(input);
  } else if(q.type==='mcq'){
    optionsDiv.className='mcq-horizontal';
    const name='mcq_'+step;
    [...q.options].sort(()=>Math.random()-0.5).forEach((opt,idx)=>{
      const wrap=document.createElement('label');
      wrap.className='mcq-opt'; wrap.htmlFor='opt_'+idx;
      const radio=document.createElement('input');
      radio.type='radio'; radio.name=name; radio.id='opt_'+idx; radio.value=opt;
      wrap.appendChild(radio); wrap.appendChild(document.createTextNode(opt));
      optionsDiv.appendChild(wrap);
    });
  } else {
    const input=document.createElement('input'); input.type='text'; input.id='textAnswer'; input.placeholder='Type answer here';
    optionsDiv.appendChild(input);
  }
  document.getElementById('question').innerText=q.q;
}

function checkAnswer(){
  const q=questions[step];
  let ans='';
  if(q.type==='date'){ ans=document.getElementById('dateAnswer').value; if(!ans){ alert('Select date'); return; } }
  else if(q.type==='mcq'){ const checked=document.querySelector(`input[name="mcq_${step}"]:checked`); if(!checked){ alert('Select answer'); return; } ans=checked.value; }
  else{ ans=document.getElementById('textAnswer').value.trim(); if(!ans){ alert('Type answer'); return; } }

  responses.push({question:q.q, answer:ans, correct:q.correct?ans===q.correct:true, timestamp:new Date().toLocaleString()});
  step++;
  if(step<questions.length) loadQuestion();
  else { showSection('gifts'); sendResponsesToGoogleForm(); }
}

function sendResponsesToGoogleForm(){
  if(responses.length===0) return;
  document.getElementById('f1').value=responses[0]?.answer||'';
  document.getElementById('f2').value=responses[1]?.answer||'';
  document.getElementById('f3').value=responses[2]?.answer||'';
  document.getElementById('f4').value=responses[3]?.answer||'';
  document.getElementById('f5').value=responses[4]?.answer||'';
  document.getElementById('f6').value=responses[5]?.answer||'';
  document.getElementById('hiddenForm').submit();
}

function openGift(n){
  const msg=document.getElementById('giftMessage');
  if(n!==expectedGift){ msg.innerText='Click boxes in order 1 → 2 → 3'; return; }
  document.getElementById('gift'+n).style.opacity='0'; document.getElementById('gift'+n).style.transform='scale(.6) translateY(10px)';
  setTimeout(()=>document.getElementById('gift'+n).remove(),400);
  if(n===1) msg.innerText='😂 No gift here!'; else if(n===2) msg.innerText='💞 Best gift is my love!'; else showFinal();
  expectedGift++;
}

function showFinal(){
  showSection('final');
  const container=document.getElementById('photoContainer');
  const photos=['photo1.jpg','photo2.jpg','photo3.jpg','photo4.jpg'];
  photos.forEach((src,i)=>setTimeout(()=>{ const img=document.createElement('img'); img.src=src; img.style.width='200px'; img.style.height='200px'; img.style.borderRadius='20px'; container.appendChild(img); }, i*750));
  setTimeout(()=>{ container.innerHTML='<img src="finalphoto.jpg" style="width:300px;height:300px;border-radius:20px;"><h2>💖 Happy Anniversary 💖</h2>'; }, photos.length*750 + 900);
}
</script>

</body>
</html>
